<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>HTML5 Geolocation</title>
    <style>
        #map{
            height: 100%;
            width: 100%;
        }
    </style>
</head>

<body>
    <h1>Static Map</h1>
    <div id="map">

    </div>

    <script type="text/javascript">
        function show_object(obj) {
            for (var prop in obj) {
                document.write(prop + ': ' + obj[prop] + '<br>');
            }
        };
        // show_object(navigator.geolocation);

        navigator.geolocation.getCurrentPosition(fn_ok, fn_error);

        var div_map = document.getElementById('map');

        function fn_ok(answer) {
            let lat = answer.coords.latitude;
            let lng = answer.coords.longitude;
            let coords = lat + ', ' + lng;

            div_map.innerHTML = '<img src="https://maps.googleapis.com/maps/api/staticmap?size=900x700&markers='+coords+'" >';
            // show_object(answer.coords);
            // div_map.innerHTML = 'Tenemos autorizacion para ver su localizacion.';
        };

        function fn_error() {
            div_map.innerHTML = 'Hubo un problema solicitando los datos.';
        };
    </script>
</body>

</html>